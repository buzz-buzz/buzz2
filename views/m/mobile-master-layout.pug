include ../share/common

doctype html
html(manifest="/buzz2.appcache", style="height:100%!important;")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge, chrome=1")
        meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0")
        include ../partial/seo.pug
        + css("/public/css/player-layout.min.css")
        + css("/public/css/button.min.css")
        + css("/public/css/player.min.css")
        + css("/public/css/modal.min.css")
        + css("/public/css/semantic-ui/semantic.min.css")
        <!-- Only required for desktop -->
        + css("/node_modules/mobile-angular-ui/dist/css/mobile-angular-ui-hover.min.css")

        <!-- Always required -->
        + css("/node_modules/mobile-angular-ui/dist/css/mobile-angular-ui-base.min.css")

        <!-- Only required for desktop -->
        + css("/node_modules/mobile-angular-ui/dist/css/mobile-angular-ui-desktop.min.css")
        title='Buzzbuzz English - 每天15分钟，学英语读世界！'
        style.
            body {
                margin: 0;
                padding: 0;
            }

            .app {
                background: white;
            }

            .scrollable{
                background-color: #FEF6E7;
                background-size: cover;
                background-attachment: fixed;
            }

            .navbar-app {
                color: black;
                background-size: cover;
                background: url('//resource.buzzbuzzenglish.com/spa-background-new.png') repeat-x 0 0;
            }

            #dimmer.ui.dimmer{
                background-color: transparent;
            }

            .center-block{
                display: block !important;
                margin: 1rem auto !important;
            }

            @font-face {
                font-family: 'HYxindipaofu';
                src: url('//resource.buzzbuzzenglish.com/HYxindipaofu.ttf') format('truetype');
            }

            .navbar a:hover, .navbar a:active {color: black!important;}
        if base
            base(href=base)
            
        block meta
    body(ng-app="spaModule")
        .app
            .navbar.navbar-app.navbar-absolute-top
                .navbar-brand.navbar-brand-center
                    span=title || 'Buzzbuzz English'
                .btn.sidebar-toggle()
                    .btn-group.pull-left
                        a(href=backUrl ||'javascript:location.href="/my/today"', ng-click="back($event)")
                            i.ui.big.chevron.circle.left.icon
                .btn-group.pull-right
                    block rightTopMenu
                    
            .app-body
                .app-content
                    .scrollable
                        .scrollable-content
                            ng-view(style="height: 100%;")

        div(ui-yield-to="modals")

        block content
        
        + js("/node_modules/jquery/dist/jquery.min.js")
        + js("/public/css/semantic-ui/semantic.min.js")
        include ../js
        + js("/node_modules/angular-route/angular-route.min.js")
        + js("/node_modules/mobile-angular-ui/dist/js/mobile-angular-ui.min.js")
        block js
        block extraJs